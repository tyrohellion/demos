<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>demos</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/static/css/style.css">

        <link rel="preconnect" href="https://rsms.me/">
        <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    </head>
    
    <body>
        <nav class="sidebar">
            <div class="sidebar-icon">
                <i data-feather="sidebar"></i>
            </div>

            <div class="sidebar-body">
                <a href="{{ url_for('index') }}">
                    <i data-feather="home"></i>
                    <h3>Home</h3>
                    <div class="tooltip">Home</div>
                </a>
                <a href="{{ url_for('results') }}">
                    <i data-feather="trending-up"></i>
                    <h3>Results</h3>
                    <div class="tooltip">Results</div>
                </a>
                <a href="{{ url_for('matches') }}">
                    <i data-feather="zap"></i>
                    <h3>Matches</h3>
                    <div class="tooltip">Matches</div>
                </a>
                <a href="{{ url_for('events') }}">
                    <i data-feather="award"></i>
                    <h3>Events</h3>
                    <div class="tooltip">Events</div>
                </a>
                <a href="{{ url_for('stats') }}">
                    <i data-feather="bar-chart-2"></i>
                    <h3>Stats</h3>
                    <div class="tooltip">Stats</div>
                </a>
                <a href="{{ url_for('teams') }}">
                    <i data-feather="users"></i>
                    <h3>Teams</h3>
                    <div class="tooltip">Teams</div>
                </a>
                <a href="{{ url_for('players') }}">
                    <i data-feather="user"></i>
                    <h3>Players</h3>
                    <div class="tooltip">Players</div>
                </a>
            </div>
        </nav>

        <div class="fullscreen-search-container">
            <div class="search-icon-container">
                <i class="search-icon-2" data-feather="search"></i>
                <input class="search-box"
                    type="text"
                    id="searchInput"
                    name="name"
                    placeholder="Search"
                    oninput="performSearch()"
                    />

                <i class="x-icon" data-feather="x"></i>
            </div>

            <div class="results-container">
                <div class="results-card-container">
                    <h3 class="results-card-text">Players</h3>
                    <div class="results-box" id="playerResults">
                        <!-- Player search results will be dynamically added here -->
                    </div>
                    <div class="seeMore" id="playersMoreResults">See more results</div>
                </div>
                <div class="results-card-container">
                    <h3 class="results-card-text">Teams</h3>
                    <div class="results-box" id="teamResults">
                        <!-- Team search results will be dynamically added here -->
                    </div>
                    <div class="seeMore" id="teamsMoreResults">See more results</div>
                </div>
                <div class="results-card-container">
                    <h3 class="results-card-text">Events</h3>
                    <div class="results-box" id="tournamentResults">
                        <!-- Tournament search results will be dynamically added here -->
                    </div>
                    <div class="seeMore" id="tourneyMoreResults">See more results</div>
                </div>
            </div>
        </div>

        <div class="content-container">

        <div class="search-container">
            <div class="search-button">
                <i class="search-icon" data-feather="search"></i>
                <h1 class="Search-text">Search</h1>
            </div>
        </div>

        <div class="grid-container">

            <section class="results">
                <a href="{{ url_for('teams') }}" class="results-redirect"></a>
                <div class="index-card-blur">Results</div>
                    <div class="results-container-index">
                        {% for match in results %}
                        <div class="results-wrapper">
                            <div class="team-score-wrapper">
                                <div class="score-line-container">
                                    {% if match['blue']['score'] %}
                                    <div class="results-score">{{ match['blue']['score'] }}</div>
                                    {% else %}
                                    <div class="results-score">0</div>
                                    {% endif %}
                                    {% if match['orange']['score'] %}
                                    <div class="results-score">{{ match['orange']['score'] }}</div>
                                    {% else %}
                                    <div class="results-score">0</div>
                                    {% endif %}
                                </div>
                                <div class="img-line-container">
                                    {% if match['blue']['team']['team']['image'] %}
                                    <img src="{{ match['blue']['team']['team']['image'] | default('/static/images/rocketleague.svg')}}" alt="{{ match['blue']['team']['team']['name'] }}">
                                    {% else %}
                                    <img src="/static/images/rocketleague.svg" alt="{{ match['blue']['team']['team']['name'] }}">
                                    {% endif %}
                                    {% if match['orange']['team']['team']['image'] %}
                                    <img src="{{ match['orange']['team']['team']['image'] | default('/static/images/rocketleague.svg')}}" alt="{{ match['orange']['team']['team']['name'] }}">
                                    {% else %}
                                    <img src="/static/images/rocketleague.svg" alt="{{ match['orange']['team']['team']['name'] }}">
                                    {% endif %}
                                </div>
                                <div class="name-line-container">
                                    <div class="team-blue-name">
                                        <div class="results-team-text">{{ match['blue']['team']['team']['name'] }}</div>
                                    </div>
                                    <div class="team-orange-name">
                                        <div class="results-team-text">{{ match['orange']['team']['team']['name'] }}</div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </section>

            <section class="teams">
                <a href="{{ url_for('teams') }}"></a>
                <div class="index-card-blur">Teams</div>
                    <div class="teams-container-index">
                        {% for participant in event %}
                            {% if participant.team.region == 'NA' or participant.team.region == 'EU' or participant.team.region == 'ME' or participant.team.region == 'SAM' %}
                                <div class="team-wrapper-index">
                                            <img src="{{ participant.team.image | default('/static/images/rocketleague.svg') }}" alt="{{ participant.team.name }}">
                                            <div class="team-name-index">{{ participant.team.name }}</div>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
            </section>

            <section class="events">
                <a href="{{ url_for('events') }}"></a>
                <div class="index-card-blur">Events</div>
                    <div class="events-container-index">
                        <div class="event-wrapper-index">
                            {% for event in eventscard %}
                                {% if event.image %}
                                    <img src="{{ event.image | default('/static/images/rocketleague.svg') }}" alt="{{ event.name }}">
                                    <div class="event-name-index">{{ event.name }}</div>
                                {% else %}
                                    <img src="/static/images/rocketleague.svg" alt="{{ event.name }}">
                                    <div class="event-name-index">{{ event.name }}</div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
            </section>

            <section class="players">
                <a href="{{ url_for('players') }}"></a>
                <div class="index-card-blur">Players</div>
                    <div class="players-container-index">
                        {% for participant in event %}
                        {% for player in participant.players %}
                            <div class="player-wrapper-index">
                                <img src="{{ participant.team.image | default('/static/images/rocketleague.svg') }}" alt="{{ participant.team.name }}">
                                <div class="player-tag-index">{{ player.tag }}</div>
                            </div>
                        {% endfor %}
                    {% endfor %}
                    </div>
            </section>
        </div>


        <section class="featured-elements">
            <div class="featured-events">
                <div class="featured-events-heading">Featured Events</div>
                    {% for event in eventsS %}
                        <div class="featured-event-wrapper-index">
                            <a href="{{ url_for('get_event', event_id=event._id) }}"></a>
                            {% if event.image %}
                                <img src="{{ event.image | default('/static/images/rocketleague.svg') }}" alt="{{ event.name }}">
                                <div class="featured-event-name-index">{{ event.name }}</div>
                            {% else %}
                                <img src="/static/images/rocketleague.svg" alt="{{ event.name }}">
                                <div class="featured-event-name-index">{{ event.name }}</div>
                            {% endif %}
                        </div>
                    {% endfor %}
                    {% for event in eventsA %}
                    {% if event.region == 'NA' or event.region == 'EU' or event.region == 'ME' or event.region == 'SAM' or event.region == 'INT' %}
                    <div class="featured-event-wrapper-index">
                        <a href="{{ url_for('get_event', event_id=event._id) }}"></a>
                            {% if event.image %}
                                <img src="{{ event.image | default('/static/images/rocketleague.svg') }}" alt="{{ event.name }}">
                                <div class="featured-event-name-index">{{ event.name }}</div>
                            {% else %}
                                <img src="/static/images/rocketleague.svg" alt="{{ event.name }}">
                                <div class="featured-event-name-index">{{ event.name }}</div>
                            {% endif %}
                    </div>
                    {% endif %}
                {% endfor %}
            </div>

            <div class="featured-teams">
                <div class="featured-teams-heading">Featured Teams</div>
                {% for participant in event %}
                    {% if participant.team.region == 'NA' or participant.team.region == 'EU' or participant.team.region == 'ME' or participant.team.region == 'SAM' %}
                        <div class="featured-team-wrapper-index">
                            <a href="{{ url_for('get_team', team_id=participant.team._id) }}"></a>
                            {% if participant.team.image %}
                                <img src="{{ participant.team.image | default('/static/images/rocketleague.svg') }}" alt="{{ participant.team.name }}">
                                <div class="featured-player-name-index">{{ participant.team.name }}</div>
                            {% else %}
                                <img src="/static/images/rocketleague.svg" alt="{{ participant.team.name }}">
                                <div class="featured-player-name-index">{{ participant.team.name }}</div>
                            {% endif %}
                        </div>
                        {% endif %}
                {% endfor %}
            </div>

        </section>

    </div>
        <script src="https://unpkg.com/feather-icons"></script>
        <script>feather.replace()</script>
        <script src="/static/script.js" async defer></script>
    </body>
</html>
